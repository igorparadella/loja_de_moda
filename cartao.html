<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Pagamento com Cartão - ModaTop</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Bootstrap e Ícones -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />

  <!-- Estilo personalizado -->
  <style>
    body {
      background-color: #f2f2f2;
    }

    .card-box {
      background: linear-gradient(135deg, #283E51, #4B79A1);
      color: #fff;
      padding: 20px;
      border-radius: 16px;
      position: relative;
      width: 100%;
      max-width: 400px;
      margin: auto;
    }

    .card-box .card-number,
    .card-box .card-name,
    .card-box .card-valid {
      font-size: 1rem;
      margin: 10px 0;
      letter-spacing: 1px;
    }

    .card-box .card-flag {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 60px;
    }

    .form-area {
      background-color: #fff;
      padding: 30px;
      border-radius: 12px;
      margin-top: 40px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.08);
    }
  </style>
</head>
<body>
  <div class="container my-5">
    <h2 class="text-center mb-4">Pagamento com Cartão</h2>

    <!-- Visual do cartão -->
    <div class="card-box mb-4">
      <img id="cardFlag" src="" alt="Bandeira do Cartão" class="card-flag" />
      <div class="card-number" id="viewCardNumber">•••• •••• •••• ••••</div>
      <div class="d-flex justify-content-between">
        <div class="card-name" id="viewCardName">NOME COMPLETO</div>
        <div class="card-valid" id="viewCardValid">MM/AA</div>
      </div>
    </div>

    <!-- Formulário -->
    <div class="form-area">
      <form>
        <div class="mb-3">
          <label for="cardName" class="form-label">Nome no Cartão</label>
          <input type="text" class="form-control" id="cardName" placeholder="Ex: João da Silva" required />
        </div>

        <div class="mb-3">
          <label for="cardNumber" class="form-label">Número do Cartão</label>
          <input type="text" class="form-control" id="cardNumber" placeholder="1234 5678 9012 3456" required maxlength="19" />
        </div>

        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="cardValid" class="form-label">Validade</label>
            <input type="text" class="form-control" id="cardValid" placeholder="MM/AA" required />
          </div>
          <div class="col-md-6 mb-3">
            <label for="cardCVV" class="form-label">CVV</label>
            <input type="text" class="form-control" id="cardCVV" placeholder="123" required maxlength="4" />
          </div>
        </div>

        <div class="d-grid mt-4">
          <button type="submit" class="btn btn-primary btn-lg">
            <i class="bi bi-credit-card"></i> Pagar Agora
          </button>
        </div>
      </form>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/cleave.js@1.6.0/dist/cleave.min.js"></script>

  <script>
    // Máscaras com Cleave.js
    const cleaveCard = new Cleave('#cardNumber', {
      creditCard: true,
      onCreditCardTypeChanged: function(type) {
        const cardFlagImg = document.getElementById("cardFlag");
        const logos = {
          visa: "https://upload.wikimedia.org/wikipedia/commons/0/04/Visa.svg",
          mastercard: "https://upload.wikimedia.org/wikipedia/commons/2/2a/Mastercard-logo.svg",
          amex: "https://upload.wikimedia.org/wikipedia/commons/3/30/American_Express_logo.svg",
          elo: "https://logodownload.org/wp-content/uploads/2016/10/elo-logo-1.png"
        };
        cardFlagImg.src = logos[type] || "";
      }
    });
  
    const cleaveDate = new Cleave('#cardValid', {
      date: true,
      datePattern: ['m', 'y']
    });
  
    // Atualiza visual dinamicamente
    cardName.addEventListener("input", () => {
      document.getElementById("viewCardName").textContent = cardName.value.toUpperCase() || "NOME COMPLETO";
    });
  
    cardNumber.addEventListener("input", () => {
      document.getElementById("viewCardNumber").textContent = cardNumber.value || "•••• •••• •••• ••••";
    });
  
    cardValid.addEventListener("input", () => {
      document.getElementById("viewCardValid").textContent = cardValid.value || "MM/AA";
    });
  
    // Exemplo de validação simples no submit
    document.querySelector("form").addEventListener("submit", function(e) {
      e.preventDefault();
  
      // Aqui você pode adicionar validações mais avançadas
      if (!cardName.value) {
        alert("Por favor, preencha o nome no cartão.");
        cardName.focus();
        return;
      }
  
      if (cardNumber.value.replace(/\s/g, '').length < 13) {
        alert("Número do cartão inválido.");
        cardNumber.focus();
        return;
      }
  
      if (!/^(0[1-9]|1[0-2])\/\d{2}$/.test(cardValid.value)) {
        alert("Data de validade inválida. Use MM/AA.");
        cardValid.focus();
        return;
      }
  
      if (!/^\d{3,4}$/.test(cardCVV.value)) {
        alert("CVV inválido.");
        cardCVV.focus();
        return;
      }
  
      alert("Pagamento enviado!");
      // Aqui envie o formulário via fetch ou outro método seguro
    });
  </script>
  

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
